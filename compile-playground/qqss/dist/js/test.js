!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";var n,o;function u(e,t){void 0===t&&(t=0);var r=n,u=o;n=e,o=t;for(var i,l=[],f={},m=[],g=!1;;){var b=[];for(a(),(i=p())&&b.push(i);i=d()||s()||v()||h();)b.push(i);if(!b.length)break;if(m.push(b),i=y()){var S=i.name;if(g=!0,M(f[S]||(f[S]=[])),c(","))continue;break}a(),c(",")?M(l):/>|\+|~/.test(n[o])?m.push(n[o++]):m.push(" ")}m.length&&(m.pop(),M(l));var j={input:n,start:t,index:o,elementSelector:l,pseudoElementSelector:g?f:null};return n=r,o=u,j;function M(e){e.length&&e.push(","),e.push.apply(e,m),m=[]}}function a(){for(;/\s/.test(n[o]);)o+=1}function i(){var e=n[o];if(/^[a-zA-Z_-]$/.test(e)){for(;/^[a-zA-Z0-9_-]$/.test(n[++o]);)e+=n[o];return e}}function c(e){if(n[o]===e)return o+=1,!0}function l(e){for(var t=0;t<e.length;){if(e[t]!==n[o+t])return!1;t+=1}return o+=t,e}function f(e){a();var t=d()||s();if(t)return t;var r=i();return r?{type:e,name:r}:void 0}function s(){if(c("."))return f("class")}function d(){if(c("#"))return f("id")}function p(){if(c("*"))return{type:"all"};var e=i();return e?{type:"tag",name:e}:void 0}function v(){var e=o;if(c("[")){a();var t=f("attribute");if(a(),"]"!==n[o]){c("=")?t.op="=":"="===n[o+1]&&/[\~\|\^\$\*]/.test(n[o])&&(t.op=n.slice(o,o+=2)),a();var r="'"===n[o]?/[^\\](\\\\)*'/g:'"'===n[o]&&/[^\\](\\\\)*"/g;if(r){var u=r.lastIndex=o,l=r.exec(n);o=l&&r.lastIndex||n.length,t.value=n.slice(u,o)}else t.value=i();a()}return c("]"),t.raw=n.slice(e,o),t}}function h(){var e=o;if(c(":")){var t=i();if(t){var r=void 0;switch(t){case"any":case"is":case"not":c("(")&&(r=u(n,o),o=r.index,a(),c(")"));break;case"nth-child":case"nth-last-child":case"nth-of-type":case"nth-last-of-type":a(),c("(")&&(r=function(){if(a(),l("odd"))return"odd";if(l("even"))return"even";for(var e=0;/\d/.test(n[o+e]);)e+=1;return e?n.slice(o,o+=e):void 0}(),a(),c(")"))}return{type:"pesudoClass",name:t,value:r}}o=e}}function y(){if(c(":")){for(;c(":"););return f("pesudoElement")}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseSelector=void 0,t.default=u,t.parseSelector=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=t.parseMatcher=t.parseSelector=t.selectorToMatcher=void 0;var n,o=r(0);function u(e){return a(o.parseSelector(e))}function a(e){var t=e.elementSelector,r=e.pseudoElementSelector,n=t.length&&i(t);if(r){var o=Object.keys(r).map((function(e){return[e,i(r[e])]}));return function(e){for(var t=n&&n(e)?[""]:[],r=0,u=o;r<u.length;r++){var a=u[r],i=a[0];(0,a[1])(e)&&t.push(i)}return!!t.length&&t}}return n||function(){return!1}}function i(e,t){void 0===t&&(t=0);for(var r=c(e[t]);t<e.length-1;){var n=e[t+1];if(","===n)return l(r,n,i(e,t+2));r=l(r,n,c(e[t+=2]))}return r}function c(e){var t=e.map(d);return function(e){for(var r=t.length-1;r>=0;r-=1){var n=t[r](e);if(!n)return!1;!0!==n&&(e=n)}return e}}function l(e,t,r){switch(t){case",":return function(t){return e(t)||r(t)};case">":return function(t){var n=r(t);if(n){var o=n.parentElement;n=o&&e(o)}return n};case"+":return function(t){var n=r(t);if(n){var o=n.previousElementSibling;n=o&&e(o)}return n};case"~":return function(t){var n,o=r(t);if(o)do{o=o.previousElementSibling}while(o&&!(n=e(o)));return n};default:return function(t){var n,o=r(t);if(o)do{o=o.parentElement}while(o&&!(n=e(o)));return n}}}function f(e,t,r,n){var o=Array.prototype.indexOf.call(e,t);return o=n?e.length-o:o+1,"odd"===r?o%2==1:"even"===r?o%2==0:r==o}function s(e){var t,r=e.name,o=e.value,u=0;switch(r){case"empty":return function(e){return!e.firstElementChild};case"root":return function(e){return e.ownerDocument.documentElement===e};case"not":u=1;case"is":var i=a(o);return function(e){return i(e)?!u:!!u};case"only-child":return function(e){return e.parentNode.children.length<=1};case"only-of-type":return function(e){for(var t=e.tagName,r=e.parentNode.children,n=0;n<r.length;n+=1){var o=r[n];if(o!==e&&o.tagName===t)return!1}return!0};case"first-child":return function(e){return e===e.parentNode.firstElementChild};case"last-child":return function(e){return e===e.parentNode.lastElementChild};case"first-of-type":return function(e){for(var t=e.tagName;e=e.previousElementSibling;)if(e.tagName===t)return!1;return!0};case"last-of-type":return function(e){for(var t=e.tagName;e=e.nextElementSibling;)if(e.tagName===t)return!1;return!0};case"nth-last-child":u=1;case"nth-child":return function(e){return f(e.parentNode.children,e,o,u)};case"nth-last-of-type":u=1;case"nth-of-type":return function(e){var t=e.tagName;return f(Array.prototype.filter.call(e.parentNode.children,(function(e){return e.tagName===t})),e,o,u)};default:if(n){var c=n(r);if(c)return c}return t="You may need to add missing validator '"+(t=r)+"'",console.warn(t),function(){return!1}}}function d(e){var t=e.type,r=e.name;switch(t){case"all":return function(e){return!0};case"class":return function(e){return e.classList.contains(r)};case"id":return function(e){return e.id===r};case"tag":return r=r.toUpperCase(),function(e){return e.tagName===r};case"attribute":var n=e.op,o=e.value,u="",a="";switch(/^("|')[\s\S]*\1$/.test(o)&&(o=o.slice(1,-1)),n){case"*=":case"~=":break;case"^=":case"|=":u="^";break;case"$=":a="$";break;case"=":return function(e){return e.getAttribute(r)===o};default:return function(e){return e.hasAttribute(r)}}var i=new RegExp(u+o.split("").join("\\")+a);return function(e){return i.test(e.getAttribute(r))};case"pesudoClass":return s(e)}}Object.defineProperty(t,"parseSelector",{enumerable:!0,get:function(){return o.parseSelector}}),t.default=u,t.configure=function(e){var t=e.pesudoClassValidatorGenerator;void 0!==t&&(n=t)},t.parseMatcher=u,t.selectorToMatcher=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=t.selectorToMatcher=t.parseMatcher=t.parseSelector=t.querySelectorAll=t.querySelector=void 0;var n=r(1);Object.defineProperty(t,"selectorToMatcher",{enumerable:!0,get:function(){return n.selectorToMatcher}}),Object.defineProperty(t,"parseSelector",{enumerable:!0,get:function(){return n.parseSelector}}),Object.defineProperty(t,"parseMatcher",{enumerable:!0,get:function(){return n.parseMatcher}}),Object.defineProperty(t,"configure",{enumerable:!0,get:function(){return n.configure}});var o=new Map;function u(e,t,r){var u=e.firstElementChild,a=u;if(!u)return r;var i=function(e){var t=o.get(e);o.size>100&&o.clear();t||o.set(e,t=n.parseMatcher(e));return t}(t);do{if(i(u)){if(!r)return u;r.push(u)}if(!(a=u.firstElementChild||u.nextElementSibling))for(;(u=u.parentElement)&&u!==e&&!(a=u.nextElementSibling););}while(u=a);return r}t.querySelector=function(e,t){return u(e,t)||null},t.querySelectorAll=function(e,t){return u(e,t,[])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);console.log(n.querySelectorAll(document,"div p")),console.log(document.querySelectorAll("div.ss p[test]:nth-of-type(2)"),n.querySelectorAll(document.body,"div.ss [test]:nth-of-type(2)"));var o=n.parseMatcher("div > p:last-of-type::before"),u=n.querySelector(document.body,"div > p:last-of-type::before");console.log(u,o(u)),n.configure({pesudoClassValidatorGenerator:function(e){switch(e){case"test1":return function(e){return e.clientWidth>10};case"test2":return function(e){return e.clientWidth<10}}}}),console.log(n.querySelectorAll(document,":test1")),console.log(n.querySelectorAll(document,":test2"))}])}));
//# sourceMappingURL=test.js.map